<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
 <title>Preskool - Teachers</title>

 <link rel="stylesheet" th:href="@{/assets/plugins/datatables/datatables.min.css}">
 <link rel="shortcut icon" th:href="@{/resources/img/favicon.png}">
 <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;0,900;1,400;1,500;1,700&display=swap" rel="stylesheet">
 <link th:href="@{/resources/plugins/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
 <link th:href="@{/resources/plugins/feather/feather.css}" rel="stylesheet">
 <link th:href="@{/resources/plugins/icons/flags/flags.css}" rel="stylesheet">
 <link th:href="@{/resources/plugins/fontawesome/css/fontawesome.min.css}" rel="stylesheet">
 <link th:href="@{/resources/plugins/fontawesome/css/all.min.css}" rel="stylesheet">
 <link th:href="@{/resources/css/style.css}" rel="stylesheet">
</head>
<body>

<div class="main-wrapper">

 <div th:replace="/admin/fragmento :: header"></div>
 <div th:replace="/admin/fragmento :: sidebar"></div>


 <div class="page-wrapper">
  <div class="content container-fluid">

   <div class="page-header">
    <div class="row align-items-center">
     <div class="col">
      <h3 class="page-title">Teachers</h3>
      <ul class="breadcrumb">
       <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
       <li class="breadcrumb-item active">Teachers</li>
      </ul>
     </div>
    </div>
   </div>

   <div class="student-group-form">
    <div class="row">
     <div class="col-lg-3 col-md-6">
      <div class="form-group">
       <input type="text" class="form-control" placeholder="Search by ID ...">
      </div>
     </div>
     <div class="col-lg-3 col-md-6">
      <div class="form-group">
       <input type="text" class="form-control" placeholder="Search by Name ...">
      </div>
     </div>
     <div class="col-lg-4 col-md-6">
      <div class="form-group">
       <input type="text" class="form-control" placeholder="Search by Phone ...">
      </div>
     </div>
     <div class="col-lg-2">
      <div class="search-student-btn">
       <button type="btn" class="btn btn-primary">Search</button>
      </div>
     </div>
    </div>
   </div>
   <div class="row">
    <div class="col-sm-12">
     <div class="card card-table">
      <div class="card-body">

       <div class="page-header">
        <div class="row align-items-center">
         <div class="col">
          <h3 class="page-title">Teachers</h3>
         </div>
         <div class="col-auto text-end float-end ms-auto download-grp">
          <a href="teachers.html" class="btn btn-outline-gray me-2 active"><i class="feather-list"></i></a>
          <a href="teachers-grid.html" class="btn btn-outline-gray me-2"><i class="feather-grid"></i></a>
          <a href="#" class="btn btn-outline-primary me-2"><i class="fas fa-download"></i> Download</a>
          <a th:href="@{/admin/add?type=enseignant}" class="btn btn-primary">
           <i class="fa fa-users"></i>
          </a>
          <a th:href="@{/admin/add?type=admin}" class="btn btn-primary">
           <i class="fa fa-user-plus"></i>
          </a>
         </div>
        </div>
       </div>

       <div class="table-responsive">
        <table class="table border-0 star-student table-hover table-center mb-0 datatable table-striped">
         <thead class="student-thread">
         <tr>
          <th>
           <div class="form-check check-tables">
            <input class="form-check-input" type="checkbox" value="something">
           </div>
          </th>
          <th>ID</th>
          <th>Name</th>
          <th>Type</th> <!-- Ajout du type -->
          <th>Filière</th> <!-- Ajout de la filière -->
          <th>Département</th> <!-- Ajout du département -->
          <th class="text-end">Action</th>
         </tr>
         </thead>
         <tbody>
         <tr th:each="personnel : ${personnelList}">
          <td>
           <!-- Case à cocher -->
           <div class="form-check check-tables">
            <input class="form-check-input" type="checkbox" value="something">
           </div>
          </td>
          <td th:text="${personnel.idPersonnel}">ID</td>
          <td>
           <h2 class="table-avatar">
            <!-- Insérez ici la logique pour afficher l'avatar en fonction du type de personnel -->
            <a th:href="'details.html?id=' + ${personnel.idPersonnel}" class="avatar avatar-sm me-2">
             <img class="avatar-img rounded-circle" th:src="@{/resources/img/profiles/persoon-icoon.png}" alt="User Image">
            </a>
            <a th:href="'details.html?id=' + ${personnel.idPersonnel}" th:text="${personnel.nom + ' ' + personnel.prenom}">Personnel Name</a>
           </h2>
          </td>
          <td th:text="${personnel.getClass().getSimpleName()}">Type</td> <!-- Affichage du type -->
          <td>
           <!-- Logique conditionnelle pour afficher la filière (si enseignant) -->
           <span th:if="${personnel.getClass().getSimpleName() == 'Enseignant'}" th:text="${personnel.filliere != null ? personnel.filliere.nom : 'N/A'}">Filière</span>
          </td>
          <td>
           <!-- Logique conditionnelle pour afficher le département (si enseignant) -->
           <span th:if="${personnel.getClass().getSimpleName() == 'Enseignant'}" th:text="${personnel.departement != null ? personnel.departement.nom : 'N/A'}">Département</span>
          </td>
          <td class="text-end">
           <div class="actions">
            <a th:href="@{/admin/deletee/{id}(id=${personnel.idPersonnel})}" class="btn btn-sm bg-success-light me-2">
             <i class="feather-trash-2"></i>
            </a>
            <a th:href="@{/admin/edit/{id}(id=${personnel.idPersonnel})}" class="btn btn-sm bg-danger-light">
             <i class="feather-edit"></i>
            </a>
            <a th:href="@{/admin/dispo/{id}(id=${personnel.idPersonnel})}" class="btn btn-sm bg-danger-light">
             <i class="fe feather-clock"></i>
            </a>
           </div>
          </td>
         </tr>
         </tbody>
        </table>
       </div>

      </div>
     </div>
    </div>
   </div>
  </div>


  <footer>
   <p>Copyright © 2025 Ouahassoune.</p>
  </footer>

 </div>

</div>


<script th:src="@{/resources/js/jquery-3.6.0.min.js}"></script>
<script th:src="@{/resources/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/resources/js/feather.min.js}"></script>
<script th:src="@{/resources/plugins/slimscroll/jquery.slimscroll.min.js}"></script>
<script th:src="@{/resources/plugins/apexchart/apexcharts.min.js}"></script>
<script th:src="@{/resources/plugins/apexchart/chart-data.js}"></script>
<script th:src="@{/resources/js/script.js}"></script>
<script th:src="@{/assets/plugins/datatables/datatables.min.js}"></script>
</body>
</html>